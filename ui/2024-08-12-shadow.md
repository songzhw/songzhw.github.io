

# I. Theory
If your UX are a fan of shadow, then you will find your effort to achieve a perfect shadow is quite miseralbe. That's mostly because Android is using a different theory of shadow. 

The most common theory about shadow is using `offsetX, offsetY, blur, spread, color, alpha`. This is is widely used by iOS, Html/CSS, and figma.  This is a picture of how to design a shadow in figma. 
![](/imgs/shadow1.png)

```css
/* web can use:  */
filter: drop-shadow(5px 5px 5px rgba(0,0,0,0.3));
```


```swift
// iOS can use:
let yourView = UIView()
yourView.layer.shadowColor = UIColor.black.cgColor
yourView.layer.shadowOpacity = 1
yourView.layer.shadowOffset = .zero
yourView.layer.shadowRadius = 10
```

But back to Android, Android's shadow is more like a use case in real life. You have a candle far away, and the light will make the object away from the candel to show the shadow on the wall.  
Apparently, the more close your object is, the big and light the shadow is on the wall:
![](/imgs/shadow2.png)

p.s. the `elevation` attribute of a View is like the distance between our view to the candel, the light source. 
If your `elevation = 0dp`, that means you object is directly on the wall, so no shadow at all. 

Also Android make the shadows as two types:
![](/imgs/shadow3.png)
* The red part is called `ambient shadow`
* The blue part is called `spot shadow`. 

# II. Android Theory
Android is providing 5 attributes to set the shadow, and they have different `minSDK` requirement:

| since when?  | attr name          | whose attr? |
|--------------|--------------------|-------------|
| since API 21 | elevation          | View        |
|              | spotShadowAlpha    | theme       |
|              | ambientShadowAlpha | them        |
| sine API 28  | spotShadowColor    | View        |
|              | ambientShadowColor | View        |

But even you set all the these 5 attributes, you will be very likey find out there is no shadow at all. Why? 

# III. Pitfalls of Shadow on Android




![](/imgs/shadow4.png)
![](/imgs/shadow5.png)
![](/imgs/shadow6.png)
![](/imgs/shadow7.png)